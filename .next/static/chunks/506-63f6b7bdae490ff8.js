"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[506],{5506:function(e,r,t){t.d(r,{Z:function(){return b}});var n=t(5666),a=t.n(n),s=t(5893),o=(t(3288),t(1955)),l=t(7294),i=t(9521),c=t(4278),d=t(7772);function u(e,r,t,n,a,s,o){try{var l=e[s](o),i=l.value}catch(c){return void t(c)}l.done?r(i):Promise.resolve(i).then(n,a)}function p(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function m(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){p(e,r,t[r])}))}return e}function h(e){return function(e){if(Array.isArray(e)){for(var r=0,t=new Array(e.length);r<e.length;r++)t[r]=e[r];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function b(e){var r,t=e.shop_id,n=(0,l.useState)(""),p=n[0],b=n[1],x=(0,l.useState)([]),f=x[0],g=x[1],y=(r=a().mark((function e(){var r,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://abakoapi.hapi.abako.xyzerokuapp.com/api/user/shop/".concat(t,"/employee"),{headers:{accessToken:o.Z.get("accessToken"),refreshToken:o.Z.get("refreshToken")},credentials:"include"});case 2:return r=e.sent,e.next=5,r.json();case 5:n=e.sent,g(n.data);case 7:case"end":return e.stop()}}),e)})),function(){var e=this,t=arguments;return new Promise((function(n,a){var s=r.apply(e,t);function o(e){u(s,n,a,o,l,"next",e)}function l(e){u(s,n,a,o,l,"throw",e)}o(void 0)}))}),j=(0,l.useMemo)((function(){return[{Header:"Nombre de Usuario",accessor:"username"},{Header:"Nombre",accessor:"firstName"},{Header:"Apellido",accessor:"lastName"},{Header:"Activo",accessor:"active",Cell:function(e){return!0===e.row.original.active?"Si":"No"}}]}),[]),v=(0,l.useMemo)((function(){return h(f)}),[f]),N=(0,i.useTable)({columns:j,data:v,initialState:{pageIndex:0}},i.useGlobalFilter,i.useSortBy,i.usePagination),w=N.getTableProps,k=N.getTableBodyProps,P=N.headerGroups,C=(N.rows,N.prepareRow),O=N.preGlobalFilteredRows,S=N.setGlobalFilter,F=N.state,T=N.page,G=N.canPreviousPage,A=N.canNextPage,Z=N.pageOptions,E=N.pageCount,H=N.gotoPage,_=N.nextPage,z=N.previousPage,M=N.setPageSize,R=N.state,D=R.pageIndex,I=R.pageSize;return(0,l.useEffect)((function(){y()}),[p]),console.log(f),(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"",children:[t?(0,s.jsxs)("div",{className:"grid grid-cols-2",children:[(0,s.jsx)("div",{children:(0,s.jsx)("button",{onClick:function(){b("true")},className:"p-4",children:" + A\xf1adir"})}),(0,s.jsxs)("div",{className:"p-4 justify-self-end",children:[" ",(0,s.jsx)(d.Z,{preGlobalFilteredRows:O,setGlobalFilter:S,globalFilter:F.globalFilter})]})]}):(0,s.jsxs)("div",{className:"grid grid-cols-1",children:[" ",(0,s.jsxs)("div",{className:"p-4 justify-self-start",children:[" ",(0,s.jsx)(d.Z,{preGlobalFilteredRows:O,setGlobalFilter:S,globalFilter:F.globalFilter})]})]}),""==p?(0,s.jsx)(s.Fragment,{}):(0,s.jsx)(c.Z,{shop_id:t,handleModal:function(){b("")}}),(0,s.jsxs)("table",m({},w(),{className:"items-center bg-transparent w-full border-collapse text-center",children:[(0,s.jsx)("thead",{children:P.map((function(e){return(0,s.jsx)("tr",m({},e.getHeaderGroupProps(),{children:e.headers.map((function(e){return(0,s.jsxs)("th",m({},e.getHeaderProps(e.getSortByToggleProps()),{className:"px-6 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold",children:[e.render("Header"),(0,s.jsx)("span",{children:e.isSorted?e.isSortedDesc?"\u25bc":"\u25b2":""})]}))}))}))}))}),(0,s.jsx)("tbody",m({},k(),{children:T.map((function(e,r){return C(e),(0,s.jsx)("tr",m({},e.getRowProps(),{children:e.cells.map((function(e){return(0,s.jsx)("td",m({},e.getCellProps(),{className:"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4 text-blueGray-700 ",children:e.render("Cell")}))}))}))}))}))]})),(0,s.jsxs)("div",{className:"pagination grid grid-cols-3 px-2",children:[(0,s.jsxs)("div",{className:"justify-self-start",children:[(0,s.jsxs)("span",{children:["Ir a la pag.:"," ",(0,s.jsx)("input",{type:"number",defaultValue:D+1,onChange:function(e){var r=e.target.value?Number(e.target.value)-1:0;H(r)},style:{width:"100px"}})]})," "]}),(0,s.jsxs)("div",{className:"justify-self-center",children:[(0,s.jsx)("button",{onClick:function(){return H(0)},disabled:!G,children:"<<"})," ",(0,s.jsx)("button",{onClick:function(){return z()},disabled:!G,children:"<"})," ",(0,s.jsx)("button",{onClick:function(){return _()},disabled:!A,children:">"})," ",(0,s.jsx)("button",{onClick:function(){return H(E-1)},disabled:!A,children:">>"})," ",(0,s.jsxs)("span",{children:["Pagina"," ",(0,s.jsxs)("strong",{children:[D+1," of ",Z.length]})," "]})]}),(0,s.jsx)("div",{className:"justify-self-end",children:(0,s.jsx)("select",{value:I,onChange:function(e){M(Number(e.target.value))},children:[10,20,30,40,50].map((function(e){return(0,s.jsxs)("option",{value:e,children:["Mostrar ",e]},e)}))})})]})]})})}},4278:function(e,r,t){t.d(r,{Z:function(){return u}});var n=t(5666),a=t.n(n),s=t(5893),o=t(7294),l=t(1955),i=t(3288);function c(e,r,t,n,a,s,o){try{var l=e[s](o),i=l.value}catch(c){return void t(c)}l.done?r(i):Promise.resolve(i).then(n,a)}function d(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function u(e){var r,t=e.handleModal,n=e.shop_id,u=(0,o.useState)({firstName:"",lastName:"",username:"",password:"",email:""}),p=u[0],m=u[1],h=function(e){var r=e.target.name,t=e.target.value;m((function(e){return function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){d(e,r,t[r])}))}return e}({},e,d({},r,t))}))},b=(r=a().mark((function e(r){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.next=3,fetch("https://api.abako.xyz/api/user/shop/".concat(n,"/employee"),{method:"POST",headers:{"Content-Type":"application/json",accessToken:l.Z.get("accessToken"),refreshToken:l.Z.get("refreshToken")},body:JSON.stringify(p),credentials:"include"});case 3:e.sent,(0,i.JG)("https://api.abako.xyz/api/user/shop/".concat(n,"/employee")),t();case 6:case"end":return e.stop()}}),e)})),function(){var e=this,t=arguments;return new Promise((function(n,a){var s=r.apply(e,t);function o(e){c(s,n,a,o,l,"next",e)}function l(e){c(s,n,a,o,l,"throw",e)}o(void 0)}))});return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"modal open py-32 px-10 min-h-screen",children:(0,s.jsxs)("div",{className:"bg-white dark:bg-gray-100 rounded-3xl p-10 md:w-3/4 lg:w-1/2 mx-auto",children:[(0,s.jsx)("h2",{className:"dark:text-white font-bold text-gray-600 ",children:"Nuevo Empleado"}),(0,s.jsxs)("form",{className:"modal-conteiner",onSubmit:b,children:[(0,s.jsxs)("div",{className:"flex items-center mb-5",children:[(0,s.jsx)("label",{htmlFor:"name",className:"inline-block w-20 mr-6 text-right font-bold dark:text-white text-gray-600",children:"Nombre"}),(0,s.jsx)("input",{type:"text",id:"firts",name:"firstName",placeholder:"Nombre",className:"flex-1 py-2 border-b-2 border-gray-400 focus:border-green-400 text-gray-600 placeholder-gray-400 outline-none",onChange:h})]}),(0,s.jsxs)("div",{className:"flex items-center mb-5",children:[(0,s.jsx)("label",{htmlFor:"name",className:"inline-block w-20 mr-6 text-right font-bold dark:text-white text-gray-600",children:"Apellido"}),(0,s.jsx)("input",{type:"text",id:"last",name:"lastName",placeholder:"Apellido",className:"flex-1 py-2 border-b-2 border-gray-400 focus:border-green-400 text-gray-600 placeholder-gray-400 outline-none",onChange:h})]}),(0,s.jsxs)("div",{className:"flex items-center mb-5",children:[(0,s.jsx)("label",{htmlFor:"name",className:"inline-block w-20 mr-6 text-right font-bold dark:text-white text-gray-600",children:"Usuario"}),(0,s.jsx)("input",{type:"text",id:"user",name:"username",placeholder:"Usuario",className:"flex-1 py-2 border-b-2 border-gray-400 focus:border-green-400 text-gray-600 placeholder-gray-400 outline-none",onChange:h})]}),(0,s.jsxs)("div",{className:"flex items-center mb-5",children:[(0,s.jsx)("label",{htmlFor:"name",className:"inline-block w-20 mr-6 text-right font-bold dark:text-white text-gray-600",children:"Contrase\xf1a"}),(0,s.jsx)("input",{type:"number",id:"pass",name:"password",placeholder:"Contrase\xf1a",className:"flex-1 py-2 border-b-2 border-gray-400 focus:border-green-400 text-gray-600 placeholder-gray-400 outline-none",onChange:h})]}),(0,s.jsxs)("div",{className:"flex items-center mb-5",children:[(0,s.jsx)("label",{htmlFor:"name",className:"inline-block w-20 mr-6 text-right font-bold dark:text-white text-gray-600",children:"Correo"}),(0,s.jsx)("input",{type:"email",id:"email",name:"email",placeholder:"Correo",className:"flex-1 py-2 border-b-2 border-gray-400 focus:border-green-400 text-gray-600 placeholder-gray-400 outline-none",onChange:h})]}),(0,s.jsxs)("div",{className:"text-right mx-2",children:[(0,s.jsx)("button",{className:"py-3 px-8 bg-green-400 text-white font-bold mx-2",type:"submit",children:"Agregar"}),(0,s.jsx)("button",{className:"py-3 px-8 bg-red-400 text-white font-bold",onClick:t,children:"Cerrar"})]})]})]})})})}}}]);