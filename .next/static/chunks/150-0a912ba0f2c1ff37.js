"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[150],{1226:function(e,r,t){t.d(r,{Z:function(){return g}});var n=t(5666),o=t.n(n),a=t(5893),s=t(3288),l=t(1955),i=t(7294);function c(e,r,t,n,o,a,s){try{var l=e[a](s),i=l.value}catch(c){return void t(c)}l.done?r(i):Promise.resolve(i).then(n,o)}function d(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function u(e){var r,t=e.handleModal,n=e.shop_id,u=(0,i.useState)({}),h=u[0],x=u[1],m=function(e){var r=e.target.name,t=e.target.value;x((function(e){return function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){d(e,r,t[r])}))}return e}({},e,d({},r,t))}))},p=(r=o().mark((function e(r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.next=3,fetch("https://api.abako.xyz/api/user/shop/".concat(n,"/product"),{method:"POST",headers:{"Content-Type":"application/json",accessToken:l.Z.get("accessToken"),refreshToken:l.Z.get("refreshToken")},body:JSON.stringify(h),credentials:"include"});case 3:e.sent,(0,s.JG)("https://api.abako.xyz/api/user/shop/".concat(n,"/product")),t();case 6:case"end":return e.stop()}}),e)})),function(){var e=this,t=arguments;return new Promise((function(n,o){var a=r.apply(e,t);function s(e){c(a,n,o,s,l,"next",e)}function l(e){c(a,n,o,s,l,"throw",e)}s(void 0)}))});return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"modal open py-32 px-10 min-h-screen",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-100 rounded-3xl p-10 md:w-3/4 lg:w-1/2 mx-auto",children:[(0,a.jsx)("h2",{className:"dark:text-white font-bold text-gray-600 ",children:"Nuevo Producto"}),(0,a.jsxs)("form",{className:"modal-conteiner",onSubmit:p,children:[(0,a.jsxs)("div",{className:"flex items-center mb-5",children:[(0,a.jsx)("label",{htmlFor:"name",className:"inline-block w-20 mr-6 text-right font-bold dark:text-white text-gray-600",children:"Tipo"}),(0,a.jsx)("input",{type:"text",id:"firts",name:"type",placeholder:"Tipo",className:"flex-1 py-2 border-b-2 border-gray-400 focus:border-green-400 text-gray-600 placeholder-gray-400 outline-none",onChange:m})]}),(0,a.jsxs)("div",{className:"flex items-center mb-5",children:[(0,a.jsx)("label",{htmlFor:"name",className:"inline-block w-20 mr-6 text-right font-bold dark:text-white text-gray-600",children:"Marca"}),(0,a.jsx)("input",{type:"text",id:"last",name:"brand",placeholder:"Marca",className:"flex-1 py-2 border-b-2 border-gray-400 focus:border-green-400 text-gray-600 placeholder-gray-400 outline-none",onChange:m})]}),(0,a.jsxs)("div",{className:"flex items-center mb-5",children:[(0,a.jsx)("label",{htmlFor:"name",className:"inline-block w-20 mr-6 text-right font-bold dark:text-white text-gray-600",children:"Modelo"}),(0,a.jsx)("input",{type:"text",id:"user",name:"model",placeholder:"Modelo",className:"flex-1 py-2 border-b-2 border-gray-400 focus:border-green-400 text-gray-600 placeholder-gray-400 outline-none",onChange:m})]}),(0,a.jsxs)("div",{className:"flex items-center mb-5",children:[(0,a.jsx)("label",{htmlFor:"name",className:"inline-block w-20 mr-6 text-right font-bold dark:text-white text-gray-600",children:"Precio de Compra"}),(0,a.jsx)("input",{type:"number",id:"pass",name:"priceBuy",placeholder:"Precio de Compra",className:"flex-1 py-2 border-b-2 border-gray-400 focus:border-green-400 text-gray-600 placeholder-gray-400 outline-none",onChange:m,min:"0.00",max:"1000000.00",step:"0.01"})]}),(0,a.jsxs)("div",{className:"flex items-center mb-5",children:[(0,a.jsx)("label",{htmlFor:"name",className:"inline-block w-20 mr-6 text-right font-bold dark:text-white text-gray-600",children:"Precio de Venta"}),(0,a.jsx)("input",{type:"number",id:"email",name:"priceSell",placeholder:"Precio de Venta",className:"flex-1 py-2 border-b-2 border-gray-400 focus:border-green-400 text-gray-600 placeholder-gray-400 outline-none",onChange:m,min:"0.00",max:"1000000.00",step:"0.01"})]}),(0,a.jsxs)("div",{className:"flex items-center mb-5",children:[(0,a.jsx)("label",{htmlFor:"name",className:"inline-block w-20 mr-6 text-right font-bold dark:text-white text-gray-600",children:"Stock"}),(0,a.jsx)("input",{type:"number",id:"email",name:"stock",placeholder:"Stock",className:"flex-1 py-2 border-b-2 border-gray-400 focus:border-green-400 text-gray-600 placeholder-gray-400 outline-none",onChange:m})]}),(0,a.jsxs)("div",{className:"text-right mx-2",children:[(0,a.jsx)("button",{className:"py-3 px-8 bg-green-400 text-white font-bold mx-2",type:"submit",children:"Agregar"}),(0,a.jsx)("button",{className:"py-3 px-8 bg-red-400 text-white font-bold",onClick:t,children:"Cerrar"})]})]})]})})})}var h=t(9521),x=t(7772);function m(e,r,t,n,o,a,s){try{var l=e[a](s),i=l.value}catch(c){return void t(c)}l.done?r(i):Promise.resolve(i).then(n,o)}function p(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function f(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){p(e,r,t[r])}))}return e}function b(e){return function(e){if(Array.isArray(e)){for(var r=0,t=new Array(e.length);r<e.length;r++)t[r]=e[r];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function g(e){var r,t=e.shop_id,n=(0,i.useState)(""),s=n[0],c=n[1],d=(0,i.useState)([]),p=d[0],g=d[1],j=(r=o().mark((function e(){var r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t?"https://api.abako.xyz/api/user/shop/".concat(t,"/product"):"https://api.abako.xyz/api/user/product",{headers:{accessToken:l.Z.get("accessToken"),refreshToken:l.Z.get("refreshToken")},credentials:"include"});case 2:return r=e.sent,e.next=5,r.json();case 5:n=e.sent,g(n.data);case 7:case"end":return e.stop()}}),e)})),function(){var e=this,t=arguments;return new Promise((function(n,o){var a=r.apply(e,t);function s(e){m(a,n,o,s,l,"next",e)}function l(e){m(a,n,o,s,l,"throw",e)}s(void 0)}))}),v=(0,i.useMemo)((function(){return[]}),[]);v=t?(0,i.useMemo)((function(){return[{Header:"Tipo",accessor:"type"},{Header:"Marca",accessor:"brand"},{Header:"Modelo",accessor:"model"},{Header:"Precio Compra",accessor:"priceBuy"},{Header:"Precio Venta",accessor:"priceSell"},{Header:"Stock",accessor:"stock"}]}),[]):(0,i.useMemo)((function(){return[{Header:"Tipo",accessor:"type"},{Header:"Marca",accessor:"brand"},{Header:"Modelo",accessor:"model"},{Header:"Precio Compra",accessor:"priceBuy"},{Header:"Precio Venta",accessor:"priceSell"},{Header:"Stock",accessor:"stock"},{Header:"Tienda",accessor:"shop.name"}]}),[]);var y=(0,i.useMemo)((function(){return b(p)}),[p]),w=(0,h.useTable)({columns:v,data:y,initialState:{pageIndex:0}},h.useGlobalFilter,h.useSortBy,h.usePagination),k=w.getTableProps,N=w.getTableBodyProps,P=w.headerGroups,C=(w.rows,w.prepareRow),F=w.preGlobalFilteredRows,M=w.setGlobalFilter,S=w.state,T=w.page,O=w.canPreviousPage,H=w.canNextPage,G=w.pageOptions,L=w.pageCount,Z=w.gotoPage,z=w.nextPage,B=w.previousPage,A=w.setPageSize,E=w.state,V=E.pageIndex,_=E.pageSize;return(0,i.useEffect)((function(){j()}),[s]),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"",children:[t?(0,a.jsxs)("div",{className:"grid grid-cols-2",children:[(0,a.jsx)("div",{children:(0,a.jsx)("button",{onClick:function(){c("true")},className:"p-4",children:" + A\xf1adir"})}),(0,a.jsxs)("div",{className:"p-4 justify-self-end",children:[" ",(0,a.jsx)(x.Z,{preGlobalFilteredRows:F,setGlobalFilter:M,globalFilter:S.globalFilter})]})]}):(0,a.jsxs)("div",{className:"grid grid-cols-1",children:[" ",(0,a.jsxs)("div",{className:"p-4 justify-self-start",children:[" ",(0,a.jsx)(x.Z,{preGlobalFilteredRows:F,setGlobalFilter:M,globalFilter:S.globalFilter})]})]}),""==s?(0,a.jsx)(a.Fragment,{}):(0,a.jsx)(u,{shop_id:t,handleModal:function(){c("")}}),(0,a.jsxs)("table",f({},k(),{className:"items-center bg-transparent w-full border-collapse text-center",children:[(0,a.jsx)("thead",{children:P.map((function(e){return(0,a.jsx)("tr",f({},e.getHeaderGroupProps(),{children:e.headers.map((function(e){return(0,a.jsxs)("th",f({},e.getHeaderProps(e.getSortByToggleProps()),{className:"px-6 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold",children:[e.render("Header"),(0,a.jsx)("span",{children:e.isSorted?e.isSortedDesc?"\u25bc":"\u25b2":""})]}))}))}))}))}),(0,a.jsx)("tbody",f({},N(),{children:T.map((function(e,r){return C(e),(0,a.jsx)("tr",f({},e.getRowProps(),{children:e.cells.map((function(e){return(0,a.jsx)("td",f({},e.getCellProps(),{className:"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4 text-blueGray-700 ",children:e.render("Cell")}))}))}))}))}))]})),(0,a.jsxs)("div",{className:"pagination grid grid-cols-3 px-2",children:[(0,a.jsxs)("div",{className:"justify-self-start",children:[(0,a.jsxs)("span",{children:["Ir a la pag.:"," ",(0,a.jsx)("input",{type:"number",defaultValue:V+1,onChange:function(e){var r=e.target.value?Number(e.target.value)-1:0;Z(r)},style:{width:"100px"}})]})," "]}),(0,a.jsxs)("div",{className:"justify-self-center",children:[(0,a.jsx)("button",{onClick:function(){return Z(0)},disabled:!O,children:"<<"})," ",(0,a.jsx)("button",{onClick:function(){return B()},disabled:!O,children:"<"})," ",(0,a.jsx)("button",{onClick:function(){return z()},disabled:!H,children:">"})," ",(0,a.jsx)("button",{onClick:function(){return Z(L-1)},disabled:!H,children:">>"})," ",(0,a.jsxs)("span",{children:["Pagina"," ",(0,a.jsxs)("strong",{children:[V+1," of ",G.length]})," "]})]}),(0,a.jsx)("div",{className:"justify-self-end",children:(0,a.jsx)("select",{value:_,onChange:function(e){A(Number(e.target.value))},children:[10,20,30,40,50].map((function(e){return(0,a.jsxs)("option",{value:e,children:["Mostrar ",e]},e)}))})})]})]})})}},7528:function(e,r,t){t.d(r,{Z:function(){return g}});var n=t(5893),o=t(9008),a=t(7294);function s(){return(0,n.jsxs)("div",{children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),(0,n.jsx)("div",{className:"ml-10 bg-gray-900 text-gray-100 px-2 py-1.5 md:absolute md:block rounded-lg shadow-xl tooltip hidden",children:"Inicio"})]})}function l(){return(0,n.jsx)("div",{children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})})}function i(){return(0,n.jsx)("div",{children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 14v3m4-3v3m4-3v3M3 21h18M3 10h18M3 7l9-4 9 4M4 10h16v11H4V10z"})})})}function c(){return(0,n.jsx)("div",{children:(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})}function d(){return(0,n.jsx)("div",{children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})}var u=t(1664),h=t(425);function x(e){var r=e.colors,t=e.name,o=e.user;return(0,n.jsxs)("div",{className:"grid md:grid-cols-4 grid-cols-2 my-2 w-full",children:[(0,n.jsxs)("div",{className:"col-start-1 text-left font-semibold text-lg text-white navbar","data-text":"/".concat(t),children:["/",t]}),(0,n.jsxs)("div",{className:"col-start-4 text-right",children:[(0,n.jsx)("span",{className:"text-".concat(r,"-700 font-semibold text-lg"),children:"Bienvenido"}),(0,n.jsxs)("span",{className:"hidden md:inline-block",children:[", ",o]})]})]})}var m=t(1955);var p=t(1163),f=t(3288),b=t(4285);function g(e){var r=e.children,t=e.active,g=e.color,j=(0,a.useState)(!1),v=(j[0],j[1]),y=(0,h.F)();y.resolvedTheme,y.setTheme;(0,a.useEffect)((function(){return v(!0)}),[]);var w=(0,a.useState)(t),k=w[0],N=(w[1],(0,f.ZP)("https://api.abako.xyz/api/user",(function(e){return(0,b.Z)(e)}))),P=N.data,C=N.error;N.mutate;return C?"Ocurrio un error:":P?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.default,{children:(0,n.jsx)("title",{children:"Dashboard"})}),(0,n.jsxs)("div",{className:"flex md:flex-row h-screen flex-col dark:bg-pruebaA4",children:[(0,n.jsxs)("div",{className:"border md:flex-grow-0 w-full md:w-20 flex md:flex-col flex-row fixed bottom-0 md:relative h-12 md:h-auto flex-grow overflow-y-visible bg-gray-100",children:[(0,n.jsx)("div",{className:"border-b-2 md:block hidden mt-6",children:(0,n.jsx)("div",{className:"mb-2",children:(0,n.jsx)("img",{className:"relative left-1/2 transform -translate-x-1/2 block w-14 h-14 rounded-full",src:"/user.png"})})}),(0,n.jsx)("div",{className:"flex md:flex-row justify-center flex-col",children:(0,n.jsxs)("ul",{className:"my-14 flex flex-row md:flex-col w-screen",children:["employee"===P.rol?(0,n.jsx)(n.Fragment,{}):(0,n.jsx)("li",{className:"menu-opciones efectohover hover:border-red-700  ".concat("Inicio"==k?"border-2 border-red-700 rounded-lg md:transform-none transform -translate-y-0.5":"border-transparent border-2"),children:(0,n.jsx)(u.default,{href:"/dashboard",children:(0,n.jsx)("a",{children:(0,n.jsx)(s,{})})})}),(0,n.jsxs)("li",{className:"menu-opciones efectohover hover:border-yellow-400 ".concat("Productos"==k?"border-2 border-yellow-400 rounded-lg md:transform-none transform -translate-y-0.5":"border-transparent border-2"),children:[(0,n.jsx)(u.default,{href:"/dashboard/productos",children:(0,n.jsx)("a",{children:(0,n.jsx)(l,{})})}),(0,n.jsx)("div",{className:"ml-10 bg-gray-900 text-gray-100 px-2 py-1.5 md:absolute md:block rounded-lg shadow-xl tooltip hidden",children:"Productos"})]}),"employee"===P.rol?(0,n.jsx)(n.Fragment,{}):(0,n.jsxs)("li",{className:"menu-opciones efectohover hover:border-green-700 ".concat("Tiendas"==k?"border-2 border-green-800 rounded-lg md:transform-none transform -translate-y-0.5":"border-transparent border-2"),children:[(0,n.jsx)(u.default,{href:"/dashboard/tiendas",children:(0,n.jsx)("a",{children:(0,n.jsx)(i,{})})}),(0,n.jsx)("div",{className:"ml-10 bg-gray-900 text-gray-100 px-2 py-1.5 md:absolute md:block rounded-lg shadow-xl tooltip hidden",children:"Tiendas"})]}),"employee"===P.rol?(0,n.jsx)(n.Fragment,{}):(0,n.jsxs)("li",{className:"menu-opciones efectohover hover:border-blue-700 ".concat("Config"==k?"border-2 border-blue-700 rounded-lg md:transform-none transform -translate-y-0.5":"border-transparent border-2"),children:[(0,n.jsx)(u.default,{href:"/dashboard/configuracion",children:(0,n.jsx)("a",{children:(0,n.jsx)(c,{})})}),(0,n.jsx)("div",{className:"ml-10 bg-gray-900 text-gray-100 px-2 py-1.5 md:absolute md:block rounded-lg shadow-xl tooltip hidden",children:"Configuracion"})]})]})}),(0,n.jsx)("div",{className:"md:flex flex-row justify-center flex-grow items-end my-10 break-normal cursor-pointer hidden",onClick:function(){m.Z.remove("accessToken"),m.Z.remove("refreshToken"),p.default.push("/login")},children:(0,n.jsx)(d,{})})]}),(0,n.jsxs)("div",{className:"flex-grow flex flex-col overflow-y-auto",children:[(0,n.jsx)("div",{className:"h-12 flex flex-row px-6 bg-gray-100",children:(0,n.jsx)(x,{colors:g,name:t,user:P.username})}),r]})]})]}):"Loading"}},4285:function(e,r,t){t.d(r,{Z:function(){return n}});t(1955);async function n(e){return fetch(e,{credentials:"include"}).then((function(e){return e.json()})).then((function(e){return e.data}))}},7772:function(e,r,t){t.d(r,{Z:function(){return s}});var n=t(5893),o=t(7294),a=t(9521);function s(e){var r=e.preGlobalFilteredRows,t=e.globalFilter,s=e.setGlobalFilter,l=r.length,i=(0,o.useState)(t),c=i[0],d=i[1],u=(0,a.useAsyncDebounce)((function(e){s(e||void 0)}),300);return(0,n.jsxs)("div",{className:"flex mx-2",children:[(0,n.jsx)("div",{className:"mx-2",children:"Filtrar: "}),(0,n.jsx)("input",{className:"border-b-2",value:c||"",onChange:function(e){d(e.target.value),u(e.target.value)},placeholder:"".concat(l," resultados...")})]})}}}]);