(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[337],{5274:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/tiendas",function(){return r(2548)}])},2548:function(e,n,r){"use strict";r.r(n),r.d(n,{__N_SSP:function(){return b},default:function(){return j}});var t=r(5893),a=r(7528),s=r(7294);r(1226),r(5506),r(4278);var i=r(5666),o=r.n(i),c=r(1955),l=r(3288);function d(e,n,r,t,a,s,i){try{var o=e[s](i),c=o.value}catch(l){return void r(l)}o.done?n(c):Promise.resolve(c).then(t,a)}function u(e){return function(){var n=this,r=arguments;return new Promise((function(t,a){var s=e.apply(n,r);function i(e){d(s,t,a,i,o,"next",e)}function o(e){d(s,t,a,i,o,"throw",e)}i(void 0)}))}}function m(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function h(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){m(e,n,r[n])}))}return e}function x(e){var n=(0,s.useState)({name:"",description:"ddd1111",address:"",namep:"nnnnnn",number:"",descriptionp:"Numero de emergencia"}),r=n[0],a=n[1],i=(0,s.useState)({name:"",description:"",address:"",phone:{name:"",number:"",description:""}}),d=(i[0],i[1],u(o().mark((function e(n){var r,t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.target.name,t=n.target.value,a((function(e){return h({},e,m({},r,t))}));case 3:case"end":return e.stop()}}),e)})))),x=u(o().mark((function e(n){var t,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),t={name:r.name,description:r.description,address:r.address,phone:{name:"Telefono Principal",number:r.number,description:r.descriptionp}},e.next=4,fetch("https://api.abako.xyz/api/user/shop",{method:"POST",headers:{"Content-Type":"application/json",accessToken:c.Z.get("accessToken"),refreshToken:c.Z.get("refreshToken")},body:JSON.stringify(t),credentials:"include"});case 4:return a=e.sent,e.t0=console,e.next=8,a.json();case 8:e.t1=e.sent,e.t0.log.call(e.t0,e.t1),(0,l.JG)("https://api.abako.xyz/api/user/shop"),p();case 12:case"end":return e.stop()}}),e)}))),p=e.handleModal;return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:"modal open py-32 px-10 min-h-screen",children:(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-100 rounded-3xl p-10 md:w-3/4 lg:w-1/2 mx-auto",children:[(0,t.jsx)("h2",{className:"dark:text-white font-bold text-gray-600 ",children:"Nueva Tienda"}),(0,t.jsxs)("form",{className:"modal-conteiner",onSubmit:x,children:[(0,t.jsxs)("div",{className:"flex items-center mb-5",children:[(0,t.jsx)("label",{htmlFor:"name",className:"inline-block w-20 mr-6 text-right font-bold dark:text-white text-gray-600",children:"Nombre"}),(0,t.jsx)("input",{type:"text",id:"name",name:"name",placeholder:"Nombre",onChange:d,className:"flex-1 py-2 border-b-2 border-gray-400 focus:border-green-400 text-gray-600 placeholder-gray-400 outline-none"})]}),(0,t.jsxs)("div",{className:"flex items-center mb-5",children:[(0,t.jsx)("label",{htmlFor:"name",className:"inline-block w-20 mr-6 text-right font-bold dark:text-white text-gray-600",children:"Direccion"}),(0,t.jsx)("input",{type:"text",id:"add",name:"address",placeholder:"Direccion",onChange:d,className:"flex-1 py-2 border-b-2 border-gray-400 focus:border-green-400 text-gray-600 placeholder-gray-400 outline-none"})]}),(0,t.jsxs)("div",{className:"flex items-center mb-5",children:[(0,t.jsx)("label",{htmlFor:"name",className:"inline-block w-20 mr-6 text-right font-bold dark:text-white text-gray-600",children:"Telefono"}),(0,t.jsx)("input",{type:"number",id:"num",name:"number",placeholder:"Telefono",onChange:d,className:"flex-1 py-2 border-b-2 border-gray-400 focus:border-green-400 text-gray-600 placeholder-gray-400 outline-none"})]}),(0,t.jsxs)("div",{className:"text-right mx-2",children:[(0,t.jsx)("button",{className:"py-3 px-8 bg-green-400 text-white font-bold mx-2",type:"submit",children:"Agregar"}),(0,t.jsx)("button",{className:"py-3 px-8 bg-red-400 text-white font-bold",onClick:p,children:"Cerrar"})]})]})]})})})}var p=r(4285),f=r(1664);function g(){var e=(0,l.ZP)("https://api.abako.xyz/api/user/shop",(function(e){return(0,p.Z)(e)})),n=e.data,r=e.error;e.mutate;return r?"Error: ":n?(0,t.jsx)(t.Fragment,{children:n.map((function(e){return(0,t.jsxs)("div",{className:"shadow-md rounded-3xl justify-self-center w-full",children:[(0,t.jsx)(f.default,{href:"/dashboard/tiendas/".concat(e.id),children:(0,t.jsxs)("a",{href:"",children:[" ",(0,t.jsx)("img",{className:"cursor-pointer bg-cover bg-center w-full rounded-t-3xl",src:"../../../edited2.png",alt:"Sunset in the mountains",width:"300",height:"300"})]})}),(0,t.jsxs)("div",{className:"px-6 py-4",children:[(0,t.jsx)("div",{className:"font-bold text-xl mb-2",children:e.name}),(0,t.jsxs)("span",{className:"dark:text-gray-200 text-gray-900 text-base",children:[(0,t.jsxs)("p",{children:["Direccion: ",e.address]}),(0,t.jsxs)("div",{children:["Telf: ",e.phone[0]?(0,t.jsx)(t.Fragment,{children:e.phone[0].number}):(0,t.jsx)("div",{})]})]})]})]},e.id)}))}):"Loading"}var b=!0;function j(){var e=(0,s.useState)(""),n=e[0],r=(e[1],(0,s.useState)("")),i=r[0],o=r[1],c=(0,s.useState)({id:"",name:"",direccion:""});c[0],c[1];return(0,t.jsx)(a.Z,{active:"Tiendas",color:"green",children:(0,t.jsx)("div",{className:"flex-1 md:py-5 md:px-20 p-10 mb-10",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 h-full",children:[(0,t.jsx)("div",{className:"w-full md:pb-0 pb-16 pt-4 px-7 dark:text-white text-gray-900",children:""==n?(0,t.jsxs)("div",{className:"grid xl:grid-cols-4 lg:grid-cols-2 grid-cols-1 gap-12 ",children:[(0,t.jsx)(g,{}),(0,t.jsx)("div",{className:"shadow-md rounded-3xl grid grid-cols-1 justify-self-center w-full",children:(0,t.jsxs)("div",{className:"self-center justify-self-center text-center cursor-pointer",onClick:function(){o("true")},children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,t.jsx)("span",{className:"font-semibold text-gray-500",children:"A\xf1adir"})]})})]}):(0,t.jsx)("div",{})}),""==i?(0,t.jsx)(t.Fragment,{}):(0,t.jsx)(x,{handleModal:function(){o("")}})]})})})}}},function(e){e.O(0,[535,521,150,506,774,888,179],(function(){return n=5274,e(e.s=n);var n}));var n=e.O();_N_E=n}]);